# Project Overview

This repository contains the code and resources developed for processing and integrating genotype-phenotype data from the International Mouse Phenotyping Consortium (IMPC) into a functional MySQL database and for building an interactive RShiny dashboard for data visualization.

## Key Features

- **Data Integration:**
  - Collates raw statistical analysis data from IMPC `.csv` files.

- **Database Design:**
  - Normalized schema for efficient storage and querying of genotype-phenotype relationships.
  - Expandable structure to incorporate new phenotypes and analyses.

- **Interactive Dashboard:**
  - Visualize statistical scores for all phenotypes tested for a selected gene knockout.
  - Explore all knockout genes associated with a specific phenotype.
  - Identify groups of genes with similar phenotype scores.

## File Structure

- **`database6/`**
  - `schema.sql`: Database schema definition.
  - `create_tables.sql`: Script to create database tables.
  - `populate_tables.sql`: Script to populate tables with data.
  - `dump.sql`: Database backup dump.
  - `DataTables/`: Folder containing input data files for the database.

- **`metadata/`**
  - `IMPCSOP.csv`: Standard Operating Procedures.
  - `Disease_information.csv`: Phenodigm disease associations.
  - `IMPC_parameter_description.csv`: Descriptions of phenotype parameters.
  - `IMPC_procedure.csv`: Details of phenotype procedures.

- **`originals/`**
  - `raw_data/`: Unprocessed raw data files used in the analysis.

- **`outputs/`**
  - `tables/`: Cleaned and aggregated data tables.
  - `plots/`: Visualizations generated by the dashboard.

- **`readmes/`**
  - `*.R`: Additional scripts and workflows.

## Pipeline Overview

The project workflow is organized into five main steps, each supported by specific scripts located in the `readmes` directory:

1. **Data Collation**
   - `Collate_sample_files.R`:
     - Checks the data type for each column in individual files.
     - Merges the data into a unified master dataframe.

2. **Data Cleaning**
   - `data_cleaning.Rmd`:
     - Identifies and removes missing (NA) and duplicate values.
   - `clean_metadata.Rmd`:
     - Cleans metadata files to ensure compatibility with the database schema.

3. **Quality Control**
   - `qcOnMerged.Rmd`:
     - Performs quality control checks on the merged dataset according to the SOP.

4. **Data Reduction**
   - `parameter_groupings.R`:
     - Groups parameter names into broader categories for simplification.
   - `Aggregate_pval_Fishers.qmd`:
     - Aggregates p-values using Fisherâ€™s method to prepare the data for visualization.

5. **Dashboard Development**
   - `app.R`:
     - Implements the RShiny interactive dashboard for visualizing the cleaned and aggregated data.

## Requirements

### Software
- R version >= 4.4.2
- DBeaver version >= 24.2.1
- MySQL version >= 8.0.35
- R packages: `tidyr`, `dplyr`, `VIM`, `stringr`, `shiny`, `ggplot2`, `bslib`, `Rtsne`, `tibble`

## Installation

### Database Setup
1. Install and log in to MySQL.
2. Create the database.
3. Restore the database:
   ```sql
   USE database_name;
   SOURCE dump.sql;


